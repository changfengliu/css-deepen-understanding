<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>The Stacking Context | 深入理解CSS</title>
    <meta name="description" content="更完备、更直观、更精简">
    
    
    <link rel="preload" href="/assets/css/0.styles.0d999763.css" as="style"><link rel="preload" href="/assets/js/app.9135242f.js" as="script"><link rel="preload" href="/assets/js/2.c8c933da.js" as="script"><link rel="preload" href="/assets/js/20.dadf167d.js" as="script"><link rel="prefetch" href="/assets/js/10.ed88cebe.js"><link rel="prefetch" href="/assets/js/11.255cb2fe.js"><link rel="prefetch" href="/assets/js/12.35bd4279.js"><link rel="prefetch" href="/assets/js/13.2ac1de05.js"><link rel="prefetch" href="/assets/js/14.574e3a1f.js"><link rel="prefetch" href="/assets/js/15.291e3379.js"><link rel="prefetch" href="/assets/js/16.c00c9e65.js"><link rel="prefetch" href="/assets/js/17.0da26fd0.js"><link rel="prefetch" href="/assets/js/18.aa89fe2a.js"><link rel="prefetch" href="/assets/js/19.097113af.js"><link rel="prefetch" href="/assets/js/21.e16ea5d5.js"><link rel="prefetch" href="/assets/js/22.9956ae01.js"><link rel="prefetch" href="/assets/js/23.760ddbea.js"><link rel="prefetch" href="/assets/js/24.8a527bb4.js"><link rel="prefetch" href="/assets/js/25.767fc54c.js"><link rel="prefetch" href="/assets/js/26.f061032a.js"><link rel="prefetch" href="/assets/js/27.bf6460bb.js"><link rel="prefetch" href="/assets/js/28.2eb8ab51.js"><link rel="prefetch" href="/assets/js/29.15131239.js"><link rel="prefetch" href="/assets/js/3.9dea6627.js"><link rel="prefetch" href="/assets/js/30.ec545159.js"><link rel="prefetch" href="/assets/js/31.dacd40f6.js"><link rel="prefetch" href="/assets/js/32.e8c1d4b9.js"><link rel="prefetch" href="/assets/js/33.c65a0604.js"><link rel="prefetch" href="/assets/js/34.be97bc0d.js"><link rel="prefetch" href="/assets/js/35.4bbfc03f.js"><link rel="prefetch" href="/assets/js/36.949e29e2.js"><link rel="prefetch" href="/assets/js/37.95ba9468.js"><link rel="prefetch" href="/assets/js/38.d8cb0d6c.js"><link rel="prefetch" href="/assets/js/39.5de03b27.js"><link rel="prefetch" href="/assets/js/4.78053b49.js"><link rel="prefetch" href="/assets/js/5.47830973.js"><link rel="prefetch" href="/assets/js/6.bd73d713.js"><link rel="prefetch" href="/assets/js/7.92ecaa00.js"><link rel="prefetch" href="/assets/js/8.d33f492a.js"><link rel="prefetch" href="/assets/js/9.c21da5e2.js">
    <link rel="stylesheet" href="/assets/css/0.styles.0d999763.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><!----> <span class="site-name">深入理解CSS</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/index.html" class="nav-link">首页</a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/index.html" class="nav-link">首页</a></div> <!----></nav>  <ul class="sidebar-links"><li><a href="/render-model.html" class="sidebar-link">渲染模型</a></li><li><a href="/houdini.html" class="sidebar-link">CSS Houdini</a></li><li><a href="/base/main.html" class="sidebar-link">CSS 是什么</a></li><li><a href="/base/text.html" class="sidebar-link">CSS基础</a></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>动画</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>盒模型</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>专题</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>选择器</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>布局</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading open"><span>一些概念</span> <span class="arrow down"></span></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/concept/bfc.html" class="sidebar-link">BFC</a></li><li><a href="/concept/containing-block.html" class="sidebar-link">Containing Block</a></li><li><a href="/concept/replaced-element.html" class="sidebar-link">可替换元素</a></li><li><a href="/concept/display-type.html" class="sidebar-link">Display Type</a></li><li><a href="/concept/stacking-context.html" class="active sidebar-link">The Stacking Context</a></li><li><a href="/concept/Visual_formatting_model.html" class="sidebar-link">Visual Formatting Model</a></li><li><a href="/concept/css-object-model.html" class="sidebar-link">CSS Object Model</a></li></ul></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="the-stacking-context"><a href="#the-stacking-context" class="header-anchor">#</a> The Stacking Context</h1> <p>The stacking context is <strong>a three-dimensional conceptualization（3D概念）</strong> of HTML elements along an imaginary z-axis relative to the user, who is assumed to be facing the viewport or the webpage.</p> <p>HTML elements occupy this space in priority order based on element attributes.</p> <p>Using z-index, the rendering order of certain elements is influenced by their z-index value. This occurs because these elements have special properties which cause them to form a stacking context.</p> <p>A stacking context is formed, anywhere in the document, by any element in the following scenarios:</p> <ul><li>Root element of document (HTML根节点).</li> <li>Element with a position value <strong>&quot;absolute&quot; or &quot;relative&quot; and z-index value other than &quot;auto&quot;</strong>.</li> <li>Element with a position value <strong>&quot;fixed&quot; or &quot;sticky&quot;</strong> (sticky for all mobile browsers, but not older desktop).</li> <li>Element that is a child of a flex (flexbox) container, with z-index value other than &quot;auto&quot;.</li> <li>Element with a <strong>opacity value less than 1</strong> (See the specification for opacity).</li> <li>Element with a mix-blend-mode value other than &quot;normal&quot;.</li> <li>Element with any of the following properties with value other than &quot;none&quot;:
<ul><li>transform</li> <li>filter</li> <li>perspective</li> <li>clip-path</li> <li>mask / mask-image / mask-border</li></ul></li> <li>Element with a isolation value &quot;isolate&quot;.</li> <li>Element with a -webkit-overflow-scrolling value &quot;touch&quot;.</li> <li>Element with a will-change value specifying any property that would create a stacking context on non-initial value (see this post).</li></ul> <p>Within a stacking context, child elements are stacked according to the same rules previously explained. Importantly, the z-index values of its child stacking contexts only have meaning in this parent. Stacking contexts are treated atomically as a single unit in the parent stacking context.</p> <p>In summary:</p> <ul><li>Stacking contexts can be contained in other stacking contexts, and together create a hierarchy of stacking contexts.</li> <li>Each stacking context is completely independent from its siblings: only descendant elements are considered when stacking is processed.</li> <li>Each stacking context is self-contained: after the element's contents are stacked, the whole element is considered in the stacking order of the parent stacking context.</li></ul> <p>Note: The hierarchy of stacking contexts is a subset of the hierarchy of HTML elements, because only certain elements create stacking contexts. We can say that elements that do not create their own stacking contexts are assimilated by the parent stacking context.</p> <p>参考：
https://developer.mozilla.org/en-US/docs/Web/CSS/CSS_Positioning/Understanding_z_index/The_stacking_context</p></div> <footer class="page-edit"><!----> <!----></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/concept/display-type.html" class="prev">Display Type</a></span> <span class="next"><a href="/concept/Visual_formatting_model.html">Visual Formatting Model</a>
      →
    </span></p></div> </main></div><div class="global-ui"></div></div>
    <script src="/assets/js/app.9135242f.js" defer></script><script src="/assets/js/2.c8c933da.js" defer></script><script src="/assets/js/20.dadf167d.js" defer></script>
  </body>
</html>
